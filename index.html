<!DOCTYPE html>
<div id="area">
  <html>
    <head>
      <title>Login
      </title>
      <script>
        var pageName = "Exploita"
        console.group("[" + pageName + " Login]")
        document.getElementsByTagName("title")[0].innerText = pageName + " Login"
        
        let timer;
        document.addEventListener('input', e => {
          const el = e.target;
          if( el.matches('[data-color]') ) {
            clearTimeout(timer);
            timer = setTimeout(() => {
              document.documentElement.style.setProperty(`--color-${el.dataset.color}
        `, el.value);
            }
                               , 100)
          }
        }
                                 )
        
          function handleText() {
              text = document.getElementById("code").value;
        
              fetch("https://auth.exploitapublic.repl.co/" + text).then(raw_response => {
                  raw_response.text().then(response => {
                      if (response != "0") {
                          console.log(response)
                          document.getElementById("area").innerHTML = response;
                      }
                  })
              })
          }
        
        function clickedButton() {
          console.groupCollapsed("Button was clicked!")
          console.log("value: '" + document.getElementById("code").value + "'")
          console.groupEnd()
          handleText()
          resetButton()
        }
        
        function resetButton() {
          console.groupCollapsed("Text was reset!")
          console.log("value: '" + document.getElementById("code").value + "'")
          document.getElementById("code").value = ""
          console.groupEnd()
        }
      </script>
    </head>
    <body>
          <input class="input__field" type="text" id="code" placeholder=" " />
            <button onclick="clickedButton()">Send
            </button>
            <button type="reset" onclick="resetButton()">Reset
            </button>
    </body>
  </html>
</div>
